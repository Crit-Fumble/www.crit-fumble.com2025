# .env Files Consolidation Plan

## Current State (Too Many Files!)

### Local Files (gitignored, contain secrets):
- `.env` (9.1KB) - Local development secrets
- `.env.staging` (3.6KB) - Staging environment secrets
- `.env.vercel.local` (4.3KB) - Pulled from Vercel

### Example Files (tracked in git):
- `.env.example` (5.8KB) - Production example
- `.env.development.local.example` (2.8KB) - Development example
- `.env.preview.example` (6.4KB) - Preview/staging example (NEW)
- `.env.vercel.local.example` (1.9KB) - Vercel example

## Recommended Consolidation

### KEEP (3 files):

1. **`.env.example`** - Complete reference with all variables
   - Most comprehensive (193 lines)
   - Single source of truth
   - All environments covered with comments

2. **`.env.preview.example`** - Staging-specific quick reference
   - NEW file we just created
   - Focused on Vercel preview setup
   - Includes Vercel-specific instructions
   - Keep because it's staging-focused

3. **`.env` (local, gitignored)** - Your actual secrets
   - Keep for local development
   - Contains your real values

### REMOVE (3 files):

1. **`.env.development.local.example`** ❌
   - **Why**: Redundant with `.env.example`
   - **Content**: Subset of `.env.example` variables
   - **Replacement**: Use `.env.example` and copy relevant vars

2. **`.env.vercel.local.example`** ❌
   - **Why**: Redundant and outdated
   - **Content**: Minimal subset, less useful than `.env.example`
   - **Replacement**: Use `.env.example` or `.env.preview.example`

3. **`.env.staging` (local, gitignored)** ❌
   - **Why**: Not needed - staging lives in Vercel
   - **Reason**: Staging environment should only exist in Vercel (not local)
   - **Replacement**: Pull from Vercel with `vercel env pull` if needed

### Optional Cleanup:

4. **`.env.vercel.local` (local, gitignored)** - Consider removing
   - Only needed if you use `vercel env pull`
   - Can be regenerated anytime
   - If you don't use Vercel CLI locally, delete it

## Recommended .env File Structure

### For Git (tracked):
```
.env.example           ← Complete reference (all variables, all environments)
.env.preview.example   ← Staging-specific guide (Vercel preview setup)
```

### Local Only (gitignored):
```
.env                   ← Your local development secrets
.env.vercel.local      ← (optional) If using Vercel CLI
```

## Migration Steps

1. **Verify `.env.example` has all variables you need**
2. **Delete redundant example files**:
   ```bash
   git rm .env.development.local.example
   git rm .env.vercel.local.example
   ```
3. **Delete local staging file** (not needed):
   ```bash
   rm .env.staging
   ```
4. **Update README** to reference only `.env.example`

## Documentation Updates Needed

### Files to update:
- `README.md` - Update environment setup section
- `docs/agent/setup/vercel-preview-environment.md` - Reference `.env.preview.example`
- Remove references to deleted files in other docs

## Benefits of Consolidation

1. **Less Confusion** - Fewer files to maintain
2. **Single Source of Truth** - `.env.example` is comprehensive
3. **Clear Purpose** - `.env.preview.example` is staging-focused
4. **Easier Onboarding** - New devs have one file to reference
5. **Reduced Maintenance** - Update one file instead of four

## Summary

**Delete:**
- `.env.development.local.example` (redundant)
- `.env.vercel.local.example` (redundant)
- `.env.staging` (not needed)

**Keep:**
- `.env.example` (main reference)
- `.env.preview.example` (staging guide)
- `.env` (your local secrets)
